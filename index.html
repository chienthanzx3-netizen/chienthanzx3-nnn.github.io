<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Gieo Quáº» Kinh Dá»‹ch</title>

<style>
body{
    margin:0;
    background: radial-gradient(circle at top,#1a1a1a,#000);
    color:#FFD700;
    font-family: Arial;
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
    text-align:center;
}

.container{ max-width:650px; padding:20px; }

h1{ font-size:32px; }

input{
    padding:10px;
    width:90%;
    margin-bottom:15px;
    font-size:16px;
    border-radius:8px;
    border:none;
}

button{
    padding:12px 20px;
    font-size:18px;
    background:#FFD700;
    border:none;
    border-radius:8px;
    cursor:pointer;
    margin:5px;
    font-weight:bold;
}

.coin{ font-size:50px; margin:6px; }

.hexagram{
    font-size:24px;
    margin-top:15px;
    line-height:1.4;
}

.result{
    margin-top:20px;
    font-size:18px;
    line-height:1.6;
}
</style>
</head>

<body>
<div class="container">

<h1>ğŸ§§ Gieo Quáº» Kinh Dá»‹ch</h1>

<input id="question" placeholder="Nháº­p Ä‘iá»u báº¡n muá»‘n há»i..." />

<div id="coins"></div>

<button onclick="tung()">Tung Äá»“ng Xu</button>
<button onclick="reset()">Gieo Láº¡i</button>

<div class="hexagram" id="hexagram"></div>
<div class="result" id="result"></div>

</div>

<script>

let lines = [];

const hexagramList = [
"Thuáº§n CÃ n","Thuáº§n KhÃ´n","Thá»§y LÃ´i TruÃ¢n","SÆ¡n Thá»§y MÃ´ng","Thá»§y ThiÃªn Nhu","ThiÃªn Thá»§y Tá»¥ng",
"Äá»‹a Thá»§y SÆ°","Thá»§y Äá»‹a Tá»·","Phong ThiÃªn Tiá»ƒu SÃºc","ThiÃªn Tráº¡ch LÃ½","Äá»‹a ThiÃªn ThÃ¡i","ThiÃªn Äá»‹a BÄ©",
"ThiÃªn Há»a Äá»“ng NhÃ¢n","Há»a ThiÃªn Äáº¡i Há»¯u","Äá»‹a SÆ¡n KhiÃªm","LÃ´i Äá»‹a Dá»±",
"Tráº¡ch LÃ´i TÃ¹y","SÆ¡n Phong Cá»•","Äá»‹a Tráº¡ch LÃ¢m","Phong Äá»‹a QuÃ¡n",
"Há»a LÃ´i Phá»‡ Háº¡p","SÆ¡n Há»a BÃ­","SÆ¡n Äá»‹a BÃ¡c","Äá»‹a LÃ´i Phá»¥c",
"ThiÃªn LÃ´i VÃ´ Vá»ng","SÆ¡n ThiÃªn Äáº¡i SÃºc","SÆ¡n LÃ´i Di","Tráº¡ch Phong Äáº¡i QuÃ¡",
"Thuáº§n Kháº£m","Thuáº§n Ly","Tráº¡ch SÆ¡n HÃ m","LÃ´i Phong Háº±ng",
"ThiÃªn SÆ¡n Äá»™n","LÃ´i ThiÃªn Äáº¡i TrÃ¡ng","Há»a Äá»‹a Táº¥n","Äá»‹a Há»a Minh Di",
"Phong Há»a Gia NhÃ¢n","Há»a Tráº¡ch KhuÃª","Thá»§y SÆ¡n Kiá»ƒn","LÃ´i Thá»§y Giáº£i",
"SÆ¡n Tráº¡ch Tá»•n","Phong LÃ´i Ãch","Tráº¡ch ThiÃªn Quáº£i","ThiÃªn Phong Cáº¥u",
"Tráº¡ch Äá»‹a Tá»¥y","Äá»‹a Phong ThÄƒng","Tráº¡ch Thá»§y Khá»‘n","Thá»§y Phong Tá»‰nh",
"Tráº¡ch Há»a CÃ¡ch","Há»a Phong Äá»‰nh","Thuáº§n Cháº¥n","SÆ¡n LÃ´i Di (52)",
"Phong SÆ¡n Tiá»‡m","LÃ´i Tráº¡ch Quy Muá»™i","LÃ´i Há»a Phong","Há»a SÆ¡n Lá»¯",
"Thuáº§n Tá»‘n","Thuáº§n ÄoÃ i","Phong Thá»§y HoÃ¡n","Thá»§y Tráº¡ch Tiáº¿t",
"Phong Tráº¡ch Trung Phu","LÃ´i SÆ¡n Tiá»ƒu QuÃ¡","Thá»§y Há»a KÃ½ Táº¿","Há»a Thá»§y Vá»‹ Táº¿"
];

function tung(){
    if(lines.length >= 6){
        alert("ÄÃ£ Ä‘á»§ 6 láº§n gieo!");
        return;
    }

    let total = 0;
    let display = "";

    for(let i=0;i<3;i++){
        let coin = Math.random() < 0.5 ? 2 : 3;
        total += coin;
        display += coin === 3 ? "ğŸª™" : "âšª";
    }

    lines.push(total);

    document.getElementById("coins").innerHTML +=
        "<div class='coin'>" + display + " â†’ " + total + "</div>";

    if(lines.length === 6){
        generateHexagram();
    }
}

function generateHexagram(){

    let binaryMain = "";
    let binaryChanged = "";
    let display = "";

    for(let i=5;i>=0;i--){
        let line = lines[i];

        if(line === 6){ 
            display += "â€” â€” (LÃ£o Ã‚m)<br>";
            binaryMain += "0";
            binaryChanged += "1";
        }
        else if(line === 7){
            display += "â€”â€”â€”<br>";
            binaryMain += "1";
            binaryChanged += "1";
        }
        else if(line === 8){
            display += "â€” â€”<br>";
            binaryMain += "0";
            binaryChanged += "0";
        }
        else if(line === 9){
            display += "â€”â€”â€” (LÃ£o DÆ°Æ¡ng)<br>";
            binaryMain += "1";
            binaryChanged += "0";
        }
    }

    document.getElementById("hexagram").innerHTML = display;

    let indexMain = parseInt(binaryMain,2) % 64;
    let indexChanged = parseInt(binaryChanged,2) % 64;

    let mainName = hexagramList[indexMain];
    let changedName = hexagramList[indexChanged];

    let question = document.getElementById("question").value;

    let meaning = "<br><br>ğŸ“œ CÃ¢u há»i: " + (question || "KhÃ´ng nháº­p") +
    "<br><br>ğŸ”® Quáº» ChÃ­nh: " + mainName +
    "<br>ğŸ” Quáº» Biáº¿n: " + changedName +
    "<br><br>âœ¨ Luáº­n giáº£i tá»•ng quÃ¡t:<br>" +
    "Thá»i váº­n Ä‘ang chuyá»ƒn Ä‘á»™ng. Náº¿u cÃ³ hÃ o biáº¿n, tÃ¬nh tháº¿ cÃ³ thay Ä‘á»•i.<br>" +
    "Giá»¯ chÃ­nh Ä‘áº¡o, tiáº¿n cháº­m mÃ  cháº¯c sáº½ cÃ¡t.";

    document.getElementById("result").innerHTML = meaning;
}

function reset(){
    lines = [];
    document.getElementById("coins").innerHTML = "";
    document.getElementById("hexagram").innerHTML = "";
    document.getElementById("result").innerHTML = "";
}

</script>
</body>
</html>
